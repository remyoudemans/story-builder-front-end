const terminalProcessor = (reducer) => {
    return (state, action) => {
        const reducedState = reducer(state, action);
        return reducedState.$trackable && reducedState.$trackable.isChanged
            ? reducedState.clone()
            : reducedState;
    };
};
export const trackEnhancer = (createStore) => (reducer, preloadedState) => {
    return createStore(terminalProcessor(reducer), preloadedState);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhY2stZW5oYW5jZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbGliL3RyYWNrLWVuaGFuY2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE1BQU0saUJBQWlCLEdBQUcsQ0FBSSxPQUF5QjtJQUNyRCxNQUFNLENBQUMsQ0FBQyxLQUFRLEVBQUUsTUFBb0I7UUFDcEMsTUFBTSxZQUFZLEdBQW1CLE9BQU8sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFRLENBQUE7UUFFbEUsTUFBTSxDQUFDLFlBQVksQ0FBQyxVQUFVLElBQUksWUFBWSxDQUFDLFVBQVUsQ0FBQyxTQUFTO2NBQy9ELFlBQVksQ0FBQyxLQUFLLEVBQUU7Y0FDcEIsWUFBWSxDQUFBO0lBQ2xCLENBQUMsQ0FBQTtBQUNILENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBK0IsQ0FBSSxXQUErQyxLQUF5QyxDQUFDLE9BQU8sRUFBRSxjQUFjO0lBQzNLLE1BQU0sQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUE7QUFDaEUsQ0FBQyxDQUFBIn0=