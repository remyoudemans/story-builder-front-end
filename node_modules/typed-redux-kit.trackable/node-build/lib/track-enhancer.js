"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const terminalProcessor = (reducer) => {
    return (state, action) => {
        const reducedState = reducer(state, action);
        return reducedState.$trackable && reducedState.$trackable.isChanged
            ? reducedState.clone()
            : reducedState;
    };
};
exports.trackEnhancer = (createStore) => (reducer, preloadedState) => {
    return createStore(terminalProcessor(reducer), preloadedState);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhY2stZW5oYW5jZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbGliL3RyYWNrLWVuaGFuY2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBR0EsTUFBTSxpQkFBaUIsR0FBRyxDQUFJLE9BQXlCO0lBQ3JELE1BQU0sQ0FBQyxDQUFDLEtBQVEsRUFBRSxNQUFvQjtRQUNwQyxNQUFNLFlBQVksR0FBbUIsT0FBTyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQVEsQ0FBQTtRQUVsRSxNQUFNLENBQUMsWUFBWSxDQUFDLFVBQVUsSUFBSSxZQUFZLENBQUMsVUFBVSxDQUFDLFNBQVM7Y0FDL0QsWUFBWSxDQUFDLEtBQUssRUFBRTtjQUNwQixZQUFZLENBQUE7SUFDbEIsQ0FBQyxDQUFBO0FBQ0gsQ0FBQyxDQUFBO0FBRVksUUFBQSxhQUFhLEdBQStCLENBQUksV0FBK0MsS0FBeUMsQ0FBQyxPQUFPLEVBQUUsY0FBYztJQUMzSyxNQUFNLENBQUMsV0FBVyxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFBO0FBQ2hFLENBQUMsQ0FBQSJ9